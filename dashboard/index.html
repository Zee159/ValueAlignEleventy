---
layout: layouts/dashboard.njk
title: Dashboard | ValueAlign
pageTitle: Your Dashboard
pageDescription: Welcome to your personal values dashboard
meta_description: Access all your ValueAlign tools including Values Assessment, Daily Reflection, Journal, and more.
requires_auth: true
permalink: /dashboard/
eleventyNavigation:
  key: Dashboard
  order: 1
---

<div class="mb-8" role="banner" aria-labelledby="dashboard-heading">
  <h1 id="dashboard-heading" class="text-3xl font-bold text-va-text dark:text-white font-montserrat">Your ValueAlign Dashboard</h1>
  <p class="text-lg text-gray-600 dark:text-gray-400">Access your tools for living according to your values</p>
</div>

  <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6" role="navigation" aria-label="Dashboard tools">
    <!-- Values Assessment Card -->
    <div class="bg-white dark:bg-gray-800 rounded-lg shadow-md overflow-hidden hover:shadow-lg transition-shadow duration-300">
      <div class="bg-va-primary dark:bg-va-primary-dark h-2"></div>
      <div class="p-6">
        <h2 class="text-xl font-bold text-va-text dark:text-gray-100 mb-3">Values Assessment</h2>
        <p class="text-gray-600 dark:text-gray-300 mb-4">Identify and reflect on your core values to guide your meaningful actions.</p>
        <a href="/dashboard/values-assessment/" class="inline-block bg-va-primary text-white px-4 py-2 rounded-md hover:bg-va-primary-dark transition-colors">
          Start Assessment
        </a>
      </div>
    </div>
    
    <!-- Daily Reflection Card -->
    <div class="bg-white dark:bg-gray-800 rounded-lg shadow-md overflow-hidden hover:shadow-lg transition-shadow duration-300">
      <div class="bg-va-secondary dark:bg-va-secondary-dark h-2"></div>
      <div class="p-6">
        <h2 class="text-xl font-bold text-va-text dark:text-gray-100 mb-3">Today's Reflection</h2>
        <p class="text-gray-600 dark:text-gray-300 mb-4">Reflect on how your actions today aligned with your core values.</p>
        <a href="/dashboard/todays-reflection/" class="inline-block bg-va-secondary text-white px-4 py-2 rounded-md hover:bg-va-secondary-dark transition-colors">
          Daily Reflection
        </a>
      </div>
    </div>
    
    <!-- Journal Card -->
    <div class="bg-white dark:bg-gray-800 rounded-lg shadow-md overflow-hidden hover:shadow-lg transition-shadow duration-300">
      <div class="bg-va-accent dark:bg-va-accent-dark h-2"></div>
      <div class="p-6">
        <h2 class="text-xl font-bold text-va-text dark:text-gray-100 mb-3">Values Journal</h2>
        <p class="text-gray-600 dark:text-gray-300 mb-4">Record your thoughts and insights about your values journey.</p>
        <a href="/dashboard/journal/" class="inline-block bg-va-accent text-white px-4 py-2 rounded-md hover:bg-va-accent-dark transition-colors">
          Open Journal
        </a>
      </div>
    </div>
    
    <!-- Value-Based Acts Card -->
    <div class="bg-white dark:bg-gray-800 rounded-lg shadow-md overflow-hidden hover:shadow-lg transition-shadow duration-300">
      <div class="bg-green-500 dark:bg-green-600 h-2"></div>
      <div class="p-6">
        <h2 class="text-xl font-bold text-va-text dark:text-gray-100 mb-3">Value-Based Acts</h2>
        <p class="text-gray-600 dark:text-gray-300 mb-4">Plan and track meaningful actions aligned with your core values.</p>
        <a href="/dashboard/acts/" class="inline-block bg-green-500 text-white px-4 py-2 rounded-md hover:bg-green-600 transition-colors">
          Plan an Act
        </a>
      </div>
    </div>
    
    <!-- Exercises Card -->
    <div class="bg-white dark:bg-gray-800 rounded-lg shadow-md overflow-hidden hover:shadow-lg transition-shadow duration-300">
      <div class="bg-blue-500 dark:bg-blue-600 h-2"></div>
      <div class="p-6">
        <h2 class="text-xl font-bold text-va-text dark:text-gray-100 mb-3">Value Exercises</h2>
        <p class="text-gray-600 dark:text-gray-300 mb-4">Practice exercises to strengthen your connection to your values.</p>
        <a href="/dashboard/exercises/" class="inline-block bg-blue-500 text-white px-4 py-2 rounded-md hover:bg-blue-600 transition-colors">
          Start Exercises
        </a>
      </div>
    </div>
    
    <!-- Progress Card -->
    <div class="bg-white dark:bg-gray-800 rounded-lg shadow-md overflow-hidden hover:shadow-lg transition-shadow duration-300">
      <div class="bg-purple-500 dark:bg-purple-600 h-2"></div>
      <div class="p-6">
        <h2 class="text-xl font-bold text-va-text dark:text-gray-100 mb-3">Your Progress</h2>
        <p class="text-gray-600 dark:text-gray-300 mb-4">Track your values alignment journey and see your improvement.</p>
        <a href="/dashboard/progress/" class="inline-block bg-purple-500 text-white px-4 py-2 rounded-md hover:bg-purple-600 transition-colors">
          View Progress
        </a>
      </div>
    </div>
  </div>

<!-- Recently Used Features -->
<div class="mt-12">
  <h2 class="text-2xl font-bold text-va-text dark:text-white mb-6">Recently Used</h2>
  
  <div id="recent-activities" class="bg-white dark:bg-gray-800 rounded-lg shadow overflow-hidden">
    <ul class="divide-y divide-gray-200 dark:divide-gray-700" id="recent-activities-list">
      <!-- This will be populated by client-side JavaScript -->
      <li class="p-4 text-gray-500 dark:text-gray-400 text-center" id="no-recent-activities">Loading recent activities...</li>
    </ul>
  </div>
</div>

<!-- Accessibility Status Message -->
<div id="dashboard-status" class="sr-only" role="status" aria-live="polite"></div>

<script>
  document.addEventListener('DOMContentLoaded', function() {
    console.log('[DashboardController] Initializing dashboard');
    
    const recentActivitiesList = document.getElementById('recent-activities-list');
    const noRecentActivities = document.getElementById('no-recent-activities');
    const statusElement = document.getElementById('dashboard-status');
    
    // This would normally fetch from an API or local storage
    function loadRecentActivities() {
      try {
        // Simulate loading delay
        setTimeout(() => {
          // Get stored activities or create sample data if none exists
          let recentActivities = JSON.parse(localStorage.getItem('valuealign_recent_activities')) || [
            { type: 'reflection', title: 'Daily Reflection', date: new Date(Date.now() - 86400000).toISOString(), url: '/dashboard/todays-reflection/' },
            { type: 'journal', title: 'Journal Entry: Finding Balance', date: new Date(Date.now() - 172800000).toISOString(), url: '/dashboard/journal/' },
            { type: 'act', title: 'Completed Act: Family Connection', date: new Date(Date.now() - 259200000).toISOString(), url: '/dashboard/acts/' }
          ];
          
          if (recentActivities.length > 0) {
            noRecentActivities.remove();
            
            recentActivities.forEach(activity => {
              const date = new Date(activity.date);
              const formattedDate = date.toLocaleDateString(undefined, { weekday: 'short', month: 'short', day: 'numeric' });
              
              const listItem = document.createElement('li');
              listItem.className = 'p-4 hover:bg-gray-50 dark:hover:bg-gray-700';
              
              let iconSvg = '';
              let bgColorClass = '';
              
              switch(activity.type) {
                case 'reflection':
                  iconSvg = '<svg class="h-5 w-5" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-8.707l-3-3a1 1 0 00-1.414 0l-3 3a1 1 0 001.414 1.414L9 9.414V13a1 1 0 102 0V9.414l1.293 1.293a1 1 0 001.414-1.414z" clip-rule="evenodd"></path></svg>';
                  bgColorClass = 'bg-blue-100 text-blue-800 dark:bg-blue-800 dark:text-blue-100';
                  break;
                case 'journal':
                  iconSvg = '<svg class="h-5 w-5" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M4 4a2 2 0 012-2h4.586A2 2 0 0112 2.586L15.414 6A2 2 0 0116 7.414V16a2 2 0 01-2 2H6a2 2 0 01-2-2V4zm2 6a1 1 0 011-1h6a1 1 0 110 2H7a1 1 0 01-1-1zm1 3a1 1 0 100 2h6a1 1 0 100-2H7z" clip-rule="evenodd"></path></svg>';
                  bgColorClass = 'bg-green-100 text-green-800 dark:bg-green-800 dark:text-green-100';
                  break;
                case 'act':
                  iconSvg = '<svg class="h-5 w-5" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zm0 5a1 1 0 000 2h8a1 1 0 100-2H6z" clip-rule="evenodd"></path></svg>';
                  bgColorClass = 'bg-purple-100 text-purple-800 dark:bg-purple-800 dark:text-purple-100';
                  break;
                default:
                  iconSvg = '<svg class="h-5 w-5" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z" clip-rule="evenodd"></path></svg>';
                  bgColorClass = 'bg-gray-100 text-gray-800 dark:bg-gray-800 dark:text-gray-100';
              }
              
              listItem.innerHTML = `
                <a href="${activity.url}" class="flex items-center">
                  <span class="inline-flex items-center justify-center ${bgColorClass} rounded-full p-2 mr-4">
                    ${iconSvg}
                  </span>
                  <div class="flex-1 min-w-0">
                    <p class="text-sm font-medium text-gray-900 dark:text-gray-100 truncate">${activity.title}</p>
                    <p class="text-sm text-gray-500 dark:text-gray-400 truncate">${formattedDate}</p>
                  </div>
                  <div class="ml-4">
                    <svg class="h-5 w-5 text-gray-400" fill="currentColor" viewBox="0 0 20 20">
                      <path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd"></path>
                    </svg>
                  </div>
                </a>
              `;
              
              recentActivitiesList.appendChild(listItem);
            });
            
            statusElement.textContent = `Loaded ${recentActivities.length} recent activities`;
          } else {
            noRecentActivities.textContent = 'No recent activities found';
            statusElement.textContent = 'No recent activities available';
          }
        }, 800);  // Simulate loading delay
      } catch (error) {
        console.error('[DashboardController] Error loading recent activities:', error);
        noRecentActivities.textContent = 'Unable to load recent activities';
        statusElement.textContent = 'Error loading recent activities';
      }
    }
    
    // Initialize recent activities
    loadRecentActivities();
  });
</script>
