---
layout: layouts/dashboard.njk
title: Reflection | ValueAlign Dashboard
pageTitle: Values Reflection
pageDescription: Daily reflection on your values and experiences
meta_description: Take time to reflect on your daily experiences and how they align with your core values.
requires_auth: true
eleventyNavigation:
  key: Reflection
  parent: Dashboard
  order: 3
showActionButtons: true
---

<div class="bg-white dark:bg-gray-800 shadow-md rounded-lg overflow-hidden">
  <!-- Header and Controls -->
  <div class="p-6 border-b border-gray-200 dark:border-gray-700">
    <div class="flex flex-col sm:flex-row sm:justify-between sm:items-center space-y-3 sm:space-y-0">
      <div>
        <h2 class="text-xl font-medium text-gray-900 dark:text-white">Daily Values Reflection</h2>
        <p class="text-sm text-gray-600 dark:text-gray-400">Take time to reflect on how your actions align with your values</p>
      </div>
      <div class="flex items-center space-x-3">
        <button id="prev-date" class="p-2 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300" aria-label="Previous date">
          <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7" />
          </svg>
        </button>
        <span id="current-date" class="text-sm font-medium text-gray-700 dark:text-gray-300">Today, June 6, 2025</span>
        <button id="next-date" class="p-2 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300" aria-label="Next date">
          <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
          </svg>
        </button>
      </div>
    </div>
  </div>
  
  <!-- Reflection Form -->
  <div class="p-6">
    <form id="reflection-form" class="space-y-6">
      <!-- Your Values Section -->
      <div>
        <h3 class="text-lg font-medium text-gray-900 dark:text-white mb-3">Your Values</h3>
        <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4">
          <!-- Value Card 1 -->
          <div class="value-card bg-blue-50 dark:bg-blue-900/20 p-4 rounded-lg border border-blue-100 dark:border-blue-800">
            <div class="flex justify-between items-start">
              <h4 class="font-medium text-gray-800 dark:text-gray-200">Honesty</h4>
              <span class="inline-flex items-center px-2.5 py-0.5 rounded-md text-xs font-medium bg-blue-100 text-blue-800 dark:bg-blue-800 dark:text-blue-200">Core Value</span>
            </div>
            <p class="mt-1 text-sm text-gray-600 dark:text-gray-400">Being truthful and transparent in words and actions</p>
          </div>
          
          <!-- Value Card 2 -->
          <div class="value-card bg-purple-50 dark:bg-purple-900/20 p-4 rounded-lg border border-purple-100 dark:border-purple-800">
            <div class="flex justify-between items-start">
              <h4 class="font-medium text-gray-800 dark:text-gray-200">Compassion</h4>
              <span class="inline-flex items-center px-2.5 py-0.5 rounded-md text-xs font-medium bg-purple-100 text-purple-800 dark:bg-purple-800 dark:text-purple-200">Core Value</span>
            </div>
            <p class="mt-1 text-sm text-gray-600 dark:text-gray-400">Showing kindness and empathy toward others</p>
          </div>
          
          <!-- Value Card 3 -->
          <div class="value-card bg-green-50 dark:bg-green-900/20 p-4 rounded-lg border border-green-100 dark:border-green-800">
            <div class="flex justify-between items-start">
              <h4 class="font-medium text-gray-800 dark:text-gray-200">Personal Growth</h4>
              <span class="inline-flex items-center px-2.5 py-0.5 rounded-md text-xs font-medium bg-green-100 text-green-800 dark:bg-green-800 dark:text-green-200">Core Value</span>
            </div>
            <p class="mt-1 text-sm text-gray-600 dark:text-gray-400">Continuously learning and improving yourself</p>
          </div>
        </div>
      </div>
      
      <!-- Daily Questions -->
      <div>
        <h3 class="text-lg font-medium text-gray-900 dark:text-white mb-3">Reflection Questions</h3>
        
        <!-- Question 1 -->
        <div class="mb-6">
          <label class="block text-gray-700 dark:text-gray-300 mb-2">How did you express your value of honesty today?</label>
          <textarea class="w-full px-3 py-2 text-gray-700 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white" rows="3" placeholder="Describe a specific situation..."></textarea>
        </div>
        
        <!-- Question 2 -->
        <div class="mb-6">
          <label class="block text-gray-700 dark:text-gray-300 mb-2">In what ways did you show compassion to others or yourself?</label>
          <textarea class="w-full px-3 py-2 text-gray-700 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white" rows="3" placeholder="Describe a specific situation..."></textarea>
        </div>
        
        <!-- Question 3 -->
        <div class="mb-6">
          <label class="block text-gray-700 dark:text-gray-300 mb-2">What did you do today that contributed to your personal growth?</label>
          <textarea class="w-full px-3 py-2 text-gray-700 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white" rows="3" placeholder="Describe a specific situation..."></textarea>
        </div>
      </div>
      
      <!-- Rating Section -->
      <div>
        <h3 class="text-lg font-medium text-gray-900 dark:text-white mb-3">Values Alignment Rating</h3>
        <p class="text-sm text-gray-600 dark:text-gray-400 mb-4">Rate how aligned your actions were with your values today:</p>
        
        <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
          <!-- Honesty Rating -->
          <div>
            <label class="block text-gray-700 dark:text-gray-300 mb-2">Honesty</label>
            <div class="flex items-center">
              <input type="range" min="1" max="10" value="7" class="w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer dark:bg-gray-700">
              <span class="ml-2 text-gray-700 dark:text-gray-300 font-medium">7</span>
            </div>
          </div>
          
          <!-- Compassion Rating -->
          <div>
            <label class="block text-gray-700 dark:text-gray-300 mb-2">Compassion</label>
            <div class="flex items-center">
              <input type="range" min="1" max="10" value="8" class="w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer dark:bg-gray-700">
              <span class="ml-2 text-gray-700 dark:text-gray-300 font-medium">8</span>
            </div>
          </div>
          
          <!-- Growth Rating -->
          <div>
            <label class="block text-gray-700 dark:text-gray-300 mb-2">Personal Growth</label>
            <div class="flex items-center">
              <input type="range" min="1" max="10" value="6" class="w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer dark:bg-gray-700">
              <span class="ml-2 text-gray-700 dark:text-gray-300 font-medium">6</span>
            </div>
          </div>
        </div>
      </div>
      
      <!-- Overall Reflection -->
      <div>
        <label class="block text-lg font-medium text-gray-700 dark:text-gray-300 mb-2">Overall Reflection</label>
        <textarea class="w-full px-3 py-2 text-gray-700 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white" rows="4" placeholder="What insights did you gain today about your values alignment? What would you like to improve tomorrow?"></textarea>
      </div>
      
      <!-- Form Actions -->
      <div class="flex justify-end space-x-3">
        <button type="button" id="save-draft" class="px-4 py-2 bg-gray-100 hover:bg-gray-200 text-gray-800 rounded-md dark:bg-gray-700 dark:hover:bg-gray-600 dark:text-gray-300">Save Draft</button>
        <button type="submit" class="px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-md">Submit Reflection</button>
      </div>
    </form>
  </div>
</div>

<!-- Reflection Page Scripts -->
<script>
  document.addEventListener('DOMContentLoaded', function() {
    console.log('[Reflection] Initializing reflection page components');
    
    // Date navigation
    const prevDateBtn = document.getElementById('prev-date');
    const nextDateBtn = document.getElementById('next-date');
    const currentDateEl = document.getElementById('current-date');
    let currentDate = new Date();
    
    // Update the date display
    function updateDateDisplay() {
      const options = { weekday: 'short', month: 'long', day: 'numeric', year: 'numeric' };
      const dateString = currentDate.toLocaleDateString('en-US', options);
      currentDateEl.textContent = dateString;
    }
    
    // Initialize with today's date
    updateDateDisplay();
    
    // Handle previous date click
    prevDateBtn.addEventListener('click', function() {
      currentDate.setDate(currentDate.getDate() - 1);
      updateDateDisplay();
      loadReflectionData(currentDate); // This would load data for the selected date
    });
    
    // Handle next date click
    nextDateBtn.addEventListener('click', function() {
      // Don't allow selecting future dates
      const tomorrow = new Date();
      tomorrow.setDate(tomorrow.getDate() + 1);
      
      if (currentDate < new Date()) {
        currentDate.setDate(currentDate.getDate() + 1);
        updateDateDisplay();
        loadReflectionData(currentDate);
      }
    });
    
    // Handle range input changes
    document.querySelectorAll('input[type="range"]').forEach(range => {
      const output = range.nextElementSibling;
      
      range.addEventListener('input', function() {
        output.textContent = this.value;
      });
    });
    
    // Handle form submission
    const reflectionForm = document.getElementById('reflection-form');
    if (reflectionForm) {
      reflectionForm.addEventListener('submit', function(e) {
        e.preventDefault();
        
        // Here you would typically collect and submit the form data
        console.log('[Reflection] Saving reflection for date:', currentDate);
        
        // Simulate a successful save
        alert('Reflection saved successfully!');
      });
    }
    
    // Handle save draft
    const saveDraftBtn = document.getElementById('save-draft');
    if (saveDraftBtn) {
      saveDraftBtn.addEventListener('click', function() {
        console.log('[Reflection] Saving draft for date:', currentDate);
        alert('Draft saved!'); 
      });
    }
    
    // Load reflection data for a date (placeholder)
    function loadReflectionData(date) {
      console.log('[Reflection] Loading reflection data for date:', date);
      // Here you would fetch and populate the form with existing data if available
    }
  });
</script>
